"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5245],{5245:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var r=o(9726),i={class:"relative row gap-20 masonry pos-r"},n={class:"peers fxw-nw jc-sb ai-c"},a=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)],l=(0,r.createElementVNode)("input",{type:"hidden",required:""},null,-1),s={class:"col-md-8"},m={class:"border p-4"},d=(0,r.createElementVNode)("legend",{class:"float-none w-auto"},[(0,r.createElementVNode)("b")],-1),c={class:"layers bd bgc-white p-20"},u={class:"masonry-item w-100"},p={class:"row gap-20"},f={class:"col-md-12"},h=(0,r.createElementVNode)("label",{for:""},"Individual Final Output *",-1),_={key:0,class:"fs-6 c-red-500"},v={key:1,class:"fs-6 c-red-500"},y=(0,r.createElementVNode)("label",{for:""},"Division Output",-1),N=(0,r.createElementVNode)("label",{for:""},"Performance Measure",-1),V=(0,r.createElementVNode)("label",{for:""},"Prescribed Period",-1),g=(0,r.createElementVNode)("label",{for:""},"Year",-1),b=(0,r.createElementVNode)("label",{for:""},"Semester",-1),E=[(0,r.createElementVNode)("option",{value:"1"},"First Semester",-1),(0,r.createElementVNode)("option",{value:"2"},"Second Semester",-1)],k={key:2,class:"fs-6 c-red-500"},w=(0,r.createElementVNode)("label",{for:""},"Type/Category *",-1),D=[(0,r.createElementVNode)("option",{value:"Core Function"},"Core Function",-1),(0,r.createElementVNode)("option",{value:"Support Function"},"Support Function",-1)],x={key:3,class:"fs-6 c-red-500"},S={key:4},C=(0,r.createElementVNode)("label",{for:""},"Remarks",-1),B={key:0,class:"fs-6 c-red-500"},T={hidden:""},M={key:0,class:"fs-6 c-red-500"},F=["disabled"],U=["disabled"];var O=o(9234),A=o(5439);const R={props:{editData:Object,id:String,emp:Object,ipcrs:Object,sem:Object,additional:String,dpcrs:Object,slug:String},components:{ModelSelect:A.om},data:function(){return{is_add:"0",submitted:!1,my_id:"",form:(0,O.mN)({id:"",ipcr_semestral_id:"",individual_final_output_id:"",ifo_desc:"",ipcr_type:"",employee_code:"",is_additional_target:"",semester:"",year:"",status:"",remarks:"",slug:"",slug_sem:"",month_1:"",month_2:"",month_3:"",month_4:"",month_5:"",month_6:""}),ipcr_mfo:"",ipcr_submfo:"",ipcr_div_output:"",ipcr_ind_output:"",ipcr_performance:"",ipcr_success:"",ipcr_prescribed_period:"",pageTitle:"",selected_value:[]}},mounted:function(){var e=this;this.form.ipcr_semestral_id="0",this.form.slug_sem=this.slug,void 0!==this.editData?(this.pageTitle="Edit",this.form.employee_code=this.editData.employee_code,this.form.id=this.editData.id,this.form.individual_final_output_id=this.editData.individual_final_output_id,this.$nextTick((function(){e.selected_ipcr()})),this.form.semester=this.editData.semester,this.form.quantity_sem=this.editData.quantity_sem,this.form.ipcr_type=this.editData.ipcr_type,this.form.is_additional_target=this.editData.is_additional_target,this.form.remarks=this.editData.remarks,this.is_add=this.editData.is_additional_target,this.form.year=this.editData.year,this.form.ipcr_semestral_id=this.editData.ipcr_semestral_id,this.my_id=this.form.ipcr_semestral_id):(this.form.employee_code=this.emp.empl_id,this.pageTitle="New",this.form.quantity_sem="0",this.form.status="-1",this.form.semester=this.sem.sem,this.form.ipcr_semestral_id=this.id,this.form.is_additional_target=this.additional,null==this.additional&&(this.form.is_additional_target="0"),this.my_id=this.id,this.setYear(),this.is_add=this.additional)},computed:{month_list:function(){return"1"===this.form.semester?["January","February","March","April","May","June"]:"2"===this.form.semester?["July","August","September","October","November","December"]:["","","","","",""]},quantity_needed:function(){var e=0,t=0,o=0,r=0,i=0,n=0;""!==this.form.month_1&&void 0!==this.form.month_1&&NaN!=this.form.month_1&&null!=this.form.month_1&&(e=parseFloat(this.form.month_1)),""!==this.form.month_2&&void 0!==this.form.month_2&&NaN!=this.form.month_2&&null!=this.form.month_2&&(t=parseFloat(this.form.month_2)),""!==this.form.month_3&&void 0!==this.form.month_3&&NaN!==this.form.month_3&&null!==this.form.month_3&&(o=parseFloat(this.form.month_3)),""!==this.form.month_4&&void 0!==this.form.month_4&&NaN!==this.form.month_4&&null!==this.form.month_4&&(r=parseFloat(this.form.month_4)),""!==this.form.month_5&&void 0!==this.form.month_5&&NaN!==this.form.month_5&&null!==this.form.month_5&&(i=parseFloat(this.form.month_5)),""!==this.form.month_6&&void 0!==this.form.month_6&&NaN!==this.form.month_6&&null!==this.form.month_6&&(n=parseFloat(this.form.month_6));var a=parseFloat(this.form.quantity_sem),l=e+t+o+r+i+n,s="",m=0;return a>l?s="WARNING: Add "+(m=a-l)+" to your monthly targets OR remove "+m+" from your semestral target ":a<l&&(s="WARNING: Remove "+(m=l-a)+" from your monthly targets OR add "+m+" to your semestral target "),s},ipcr_sel:function(){return this.ipcrs.map((function(e){return{value:e.individual_final_output_id,label:e.individual_output+" - "+e.performance_measure}}))}},methods:{submit:function(){void 0!==this.editData?this.form.patch("/ipcrtargets/r/"+this.form.id,this.form):(this.form.ifo_desc=this.ipcr_ind_output,this.form.post("/ipcrtargets/r/store/"+this.id))},cancelEdit:function(){1==confirm("WARNING!\nYou have unsaved changes in this form. Are you sure you want to exit without saving changes?")&&this.$inertia.get("/ipcrtargets/"+this.my_id)},selected_ipcr:function(){var e=this;setTimeout((function(){if(null===String(e.form.individual_final_output_id)||void 0===String(e.form.individual_final_output_id)||""===String(e.form.individual_final_output_id))return-1;var t=e.ipcrs.findIndex((function(t){return String(t.individual_final_output_id)===String(e.form.individual_final_output_id)}));e.selected_value=e.ipcrs[t],e.ipcr_div_output=e.ipcrs[t].div_output,e.ipcr_ind_output=e.ipcrs[t].individual_output,e.ipcr_performance=e.ipcrs[t].performance_measure,e.ipcr_prescribed_period=e.ipcrs[t].prescribed_period}),300)},setYear:function(){var e=new Date;this.form.year=e.getFullYear()},moveToNextInput:function(e){this.$refs[e].focus()},goBack:function(){window.history.back()}}};const I=(0,o(6262).A)(R,[["render",function(e,t,o,O,A,R){var I=(0,r.resolveComponent)("multiselect");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("h2",null,[(0,r.createElementVNode)("b",null,(0,r.toDisplayString)(A.pageTitle)+" IPCR Target",1)]),(0,r.createElementVNode)("button",{class:"btn btn-danger text-white",onClick:t[0]||(t[0]=function(){return R.goBack&&R.goBack.apply(R,arguments)})},a)]),(0,r.createElementVNode)("form",{onSubmit:t[14]||(t[14]=(0,r.withModifiers)((function(e){return R.submit()}),["prevent"]))},[l,(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("fieldset",m,[d,(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",f,[h,(0,r.createElementVNode)("div",null,[(0,r.createVNode)(I,{options:R.ipcr_sel,searchable:!0,modelValue:A.form.individual_final_output_id,"onUpdate:modelValue":t[1]||(t[1]=function(e){return A.form.individual_final_output_id=e}),label:"label","track-by":"label",onClose:R.selected_ipcr},null,8,["options","modelValue","onClose"])]),A.form.errors.individual_final_output_id&&""==A.form.individual_final_output_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",_,(0,r.toDisplayString)(A.form.errors.individual_final_output_id),1)):(0,r.createCommentVNode)("",!0),A.form.errors.employee_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",v,(0,r.toDisplayString)(A.form.errors.employee_code),1)):(0,r.createCommentVNode)("",!0),y,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return A.ipcr_div_output=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,A.ipcr_div_output]]),N,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return A.ipcr_ind_output=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,A.ipcr_ind_output]]),V,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return A.ipcr_prescribed_period=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,A.ipcr_prescribed_period]]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[5]||(t[5]=function(e){return A.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,A.form.id]]),g,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return A.form.year=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,A.form.year]]),b,(0,r.withDirectives)((0,r.createElementVNode)("select",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(e){return A.form.semester=e}),class:"form-control",autocomplete:"chrome-off",disabled:""},E,512),[[r.vModelSelect,A.form.semester]]),A.form.errors.semester?((0,r.openBlock)(),(0,r.createElementBlock)("div",k,(0,r.toDisplayString)(A.form.errors.semester),1)):(0,r.createCommentVNode)("",!0),w,(0,r.withDirectives)((0,r.createElementVNode)("select",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(e){return A.form.ipcr_type=e}),class:"form-control",autocomplete:"chrome-off"},D,512),[[r.vModelSelect,A.form.ipcr_type]]),A.form.errors.ipcr_type&&""==A.form.ipcr_type?((0,r.openBlock)(),(0,r.createElementBlock)("div",x,(0,r.toDisplayString)(A.form.errors.ipcr_type),1)):(0,r.createCommentVNode)("",!0),"1"===A.is_add?((0,r.openBlock)(),(0,r.createElementBlock)("div",S,[C,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=function(e){return A.form.remarks=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,A.form.remarks]]),A.form.errors.remarks?((0,r.openBlock)(),(0,r.createElementBlock)("div",B,(0,r.toDisplayString)(A.form.errors.remarks),1)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)])])])])])]),(0,r.createElementVNode)("div",T,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=function(e){return A.form.year=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,A.form.year]]),A.form.errors.year?((0,r.openBlock)(),(0,r.createElementBlock)("div",M,(0,r.toDisplayString)(A.form.errors.year),1)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=function(e){return A.form.is_additional_target=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,A.form.is_additional_target]])]),(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[12]||(t[12]=function(e){return R.submit()}),disabled:A.form.processing}," Save changes ",8,F),(0,r.createTextVNode)("Â  "),(0,r.createElementVNode)("button",{type:"button",class:"btn btn-danger mt-3 text-white",onClick:t[13]||(t[13]=function(e){return R.cancelEdit()}),disabled:A.form.processing}," Cancel ",8,U)],32),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.additional),1)])}]])}}]);