"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6],{2006:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Q});var r=o(821),i={class:"relative row gap-20 masonry pos-r"},n={class:"peers fxw-nw jc-sb ai-c"},a=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),l=(0,r.createElementVNode)("input",{type:"hidden",required:""},null,-1),c={class:"col-md-8"},s={class:"border p-4"},d=(0,r.createElementVNode)("legend",{class:"float-none w-auto"},[(0,r.createElementVNode)("b",null,"IPCR Code")],-1),m={class:"layers bd bgc-white p-20"},u={class:"masonry-item w-100"},p={class:"row gap-20"},f={class:"col-md-12"},h={key:0,class:"fs-6 c-red-500"},_={key:1,class:"fs-6 c-red-500"},y=(0,r.createElementVNode)("label",{for:""},"Major Final Output",-1),b=(0,r.createElementVNode)("label",{for:""},"Sub MFO",-1),v=(0,r.createElementVNode)("label",{for:""},"Division Output",-1),V=(0,r.createElementVNode)("label",{for:""},"Individual Final Output",-1),g=(0,r.createElementVNode)("label",{for:""},"Performance Measure",-1),N=(0,r.createElementVNode)("label",{for:""},"Type/Category",-1),E=[(0,r.createElementVNode)("option",{value:"Core Function"},"Core Function",-1),(0,r.createElementVNode)("option",{value:"Support Function"},"Support Function",-1)],w={key:2,class:"fs-6 c-red-500"},k={class:"col-md-8"},D={class:"border p-4"},x=(0,r.createElementVNode)("legend",{class:"float-none w-auto"}," Target Quantity ",-1),S={key:0,class:"fs-6 c-red-500"},C={class:"layers bd bgc-white p-20"},F={class:"masonry-item w-100"},M={class:"row gap-20"},T=["onUpdate:modelValue"],O=["disabled"],j=(0,r.createTextVNode)("Â  "),A=["disabled"];var B=o(9038),q=o(4971);function I(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}const R={props:{editData:Object,id:String,emp:Object,ipcrs:Object,prob:Object,date_from:Object,date_to:Object,editQuantity:Object},components:{ModelSelect:q.q2},data:function(){return{submitted:!1,my_id:"",form:(0,B.cI)({probationary_temporary_employees_id:"",ipcr_code:"",ipcr_type:"",quantity:[],id:null}),ipcr_mfo:"",ipcr_submfo:"",ipcr_div_output:"",ipcr_ind_output:"",ipcr_performance:"",ipcr_success:"",pageTitle:"",selected_value:[]}},mounted:function(){var e=this;if(void 0!==this.editData){this.pageTitle="Edit",this.form.probationary_temporary_employees_id=this.editData.probationary_temporary_employees_id,this.form.id=this.editData.id;this.ipcrs.findIndex((function(t){return t.ipcr_code===e.form.ipcr_code}));this.form.ipcr_code=this.editData.ipcr_code,this.form.ipcr_pob_tempo_id=this.editData.ipcr_pob_tempo_id,this.$nextTick((function(){e.selected_ipcr()})),this.form.ipcr_type=this.editData.ipcr_type,this.form.quantity=this.editQuantity,this.my_id=this.editData.ipcr_pob_tempo_id,this.adjustQuantity()}else this.pageTitle="Add",this.form.probationary_temporary_employees_id=this.id,this.push_values_to_quantity(),this.my_id=this.id},computed:{month_list:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},quantity_needed:function(){var e=0,t=0,o=0,r=0,i=0,n=0,a=0,l=0,c=0,s=0;""===this.form.month_1&&void 0===this.form.month_1||(e=parseFloat(this.form.month_1),t=parseFloat(this.form.month_2),o=parseFloat(this.form.month_3),r=parseFloat(this.form.month_4),i=parseFloat(this.form.month_5),n=parseFloat(this.form.month_6),"Temporary"===this.prob.prob_status&&(a=parseFloat(this.form.month_7),l=parseFloat(this.form.month_8),c=parseFloat(this.form.month_9),s=parseFloat(this.form.month_10)));var d=parseFloat(this.form.target_quantity),m=e+t+o+r+i+n+a+l+c+s,u="",p=0;return d>m?u="WARNING: Add "+(p=d-m)+" to your monthly targets OR remove "+p+" from your total target ":d<m&&(u="WARNING: Remove "+(p=m-d)+" from your monthly targets OR add "+p+" to your total target "),u},ipcr_sel:function(){return this.ipcrs.map((function(e){return{value:e.ipcr_code,label:e.ipcr_code+"-"+e.individual_output}}))}},methods:{submit:function(){void 0!==this.editData?this.form.patch("/prob/individual/targets/update/"+this.id,this.form):this.form.post("/prob/individual/targets/store/"+this.id)},cancelEdit:function(){1==confirm("WARNING!\nYou have unsaved changes in this form. Are you sure you want to exit without saving changes?")&&this.$inertia.get("/ipcrtargets/"+this.my_id)},selected_ipcr:function(){var e=this;if(null===this.form.ipcr_code||void 0===this.form.ipcr_code)return-1;var t=this.ipcrs.findIndex((function(t){return String(t.ipcr_code)===String(e.form.ipcr_code)}));this.selected_value=this.ipcrs[t],this.ipcr_mfo=this.ipcrs[t].mfo_desc,this.ipcr_submfo=this.ipcrs[t].submfo_description,this.ipcr_div_output=this.ipcrs[t].div_output,this.ipcr_ind_output=this.ipcrs[t].individual_output,this.ipcr_performance=this.ipcrs[t].performance_measure},push_values_to_quantity:function(){var e=this;this.date_from.forEach((function(){e.form.quantity.push(0)}))},adjustQuantity:function(){for(var e=Object.keys(this.date_from),t=I(this.editQuantity);e.length>t.length;)t.push(0);for(;e.length<t.length;)t.pop();this.form.quantity=t}}};const Q=(0,o(3744).Z)(R,[["render",function(e,t,o,B,q,I){var U=(0,r.resolveComponent)("Link"),R=(0,r.resolveComponent)("multiselect");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("h2",null,[(0,r.createElementVNode)("b",null,(0,r.toDisplayString)(q.pageTitle)+" "+(0,r.toDisplayString)(o.prob.prob_status)+" IPCR Target",1)]),(0,r.createVNode)(U,{href:"/prob/individual/targets/".concat(q.my_id)},{default:(0,r.withCtx)((function(){return[a]})),_:1},8,["href"])]),(0,r.createElementVNode)("form",{onSubmit:t[10]||(t[10]=(0,r.withModifiers)((function(e){return I.submit()}),["prevent"]))},[l,(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("fieldset",s,[d,(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("div",null,[(0,r.createVNode)(R,{options:I.ipcr_sel,searchable:!0,modelValue:q.form.ipcr_code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return q.form.ipcr_code=e}),label:"label","track-by":"label",onClose:I.selected_ipcr},null,8,["options","modelValue","onClose"])]),q.form.errors.ipcr_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,(0,r.toDisplayString)(q.form.errors.ipcr_code),1)):(0,r.createCommentVNode)("",!0),q.form.errors.employee_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",_,(0,r.toDisplayString)(q.form.errors.employee_code),1)):(0,r.createCommentVNode)("",!0),y,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return q.ipcr_mfo=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,q.ipcr_mfo]]),b,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return q.ipcr_submfo=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,q.ipcr_submfo]]),v,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return q.ipcr_div_output=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,q.ipcr_div_output]]),V,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return q.ipcr_ind_output=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,q.ipcr_ind_output]]),g,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return q.ipcr_ind_output=e}),class:"form-control",autocomplete:"chrome-off",readonly:""},null,512),[[r.vModelText,q.ipcr_ind_output]]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[6]||(t[6]=function(e){return q.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,q.form.id]]),N,(0,r.withDirectives)((0,r.createElementVNode)("select",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(e){return q.form.ipcr_type=e}),class:"form-control",autocomplete:"chrome-off"},E,512),[[r.vModelSelect,q.form.ipcr_type]]),q.form.errors.ipcr_type?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,(0,r.toDisplayString)(q.form.errors.ipcr_type),1)):(0,r.createCommentVNode)("",!0)])])])])])]),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("fieldset",D,[x,q.form.errors.quantity?((0,r.openBlock)(),(0,r.createElementBlock)("div",S,(0,r.toDisplayString)(q.form.errors.quantity),1)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",C,[(0,r.createElementVNode)("div",F,[(0,r.createElementVNode)("div",M,[o.date_from?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(o.date_from,(function(t,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"col-md-6",key:i},[(0,r.createElementVNode)("p",null,[(0,r.createElementVNode)("b",null,"Month "+(0,r.toDisplayString)(i+1),1),(0,r.createTextVNode)(" - ("+(0,r.toDisplayString)(e.formatDateRange(o.date_from[i],o.date_to[i]))+") ",1)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":function(e){return q.form.quantity[i]=e},class:"form-control",autocomplete:"positionchrome-off"},null,8,T),[[r.vModelText,q.form.quantity[i]]])])})),128)):(0,r.createCommentVNode)("",!0)])])])])]),(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[8]||(t[8]=function(e){return I.submit()}),disabled:q.form.processing}," Save changes ",8,O),j,(0,r.createElementVNode)("button",{type:"button",class:"btn btn-danger mt-3 text-white",onClick:t[9]||(t[9]=function(e){return I.cancelEdit()}),disabled:q.form.processing}," Cancel ",8,A)],32)])}]])}}]);