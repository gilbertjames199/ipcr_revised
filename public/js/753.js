"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[753],{9753:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Z});var r=o(821),n={class:"relative row gap-20 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},i=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),l={class:"col-md-8"},s=(0,r.createElementVNode)("input",{type:"hidden",required:""},null,-1),m={class:"border p-4"},c=(0,r.createElementVNode)("legend",{class:"float-none w-auto"},[(0,r.createElementVNode)("b",null,"Employee ")],-1),d={key:0,class:"fs-6 c-red-500"},f=(0,r.createElementVNode)("label",{for:""},"Status",-1),u=[(0,r.createElementVNode)("option",{value:"Probationary"},"Probationary",-1),(0,r.createElementVNode)("option",{value:"Temporary"},"Temporary",-1)],p=(0,r.createElementVNode)("br",null,null,-1),h=(0,r.createElementVNode)("div",{class:"col-sm-12"},[(0,r.createElementVNode)("label",{for:""},"Number of Months")],-1),_={class:"col-md-12"},v={class:"row"},y={class:"col-md-9"},b={class:"col-md-3"},V=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-up-fill",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})],-1)],g=(0,r.createTextVNode)("Â  "),E=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})],-1)],N={key:1,class:"fs-6 c-red-500"},w={key:0,class:"fs-6 c-red-500"},D={class:"border p-4"},k={class:"float-none w-auto"},S={for:""},B=["onUpdate:modelValue","onChange"],M=["onUpdate:modelValue"],T={key:2,class:"fs-6 c-red-500"},C=(0,r.createElementVNode)("label",{for:""},"Date to ",-1),x=["onUpdate:modelValue"],O={key:3,class:"fs-6 c-red-500"},F=(0,r.createElementVNode)("br",null,null,-1),I=["disabled"];var U=o(9038),j=o(126),A=o(4971);function P(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return q(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}const L={props:{data:Object,editData:Object,employees:Object,divisions:Object,offices:Object},components:{ModelSelect:A.q2,Places:function(){return new Promise((function(e){setTimeout((function(){e(j.Z)}),2e3)}))}},data:function(){return{my_paps:[],submitted:!1,form:(0,U.cI)({employee_code:"",no_of_months:"",prob_status:"",status:"",month_id:[],date_from:[],date_to:[],id:null}),pageTitle:"",isNotValid:!1,isNotValidTo:!1}},computed:{formattedEmployeeList:function(){return this.employees.map((function(e){return{value:e.empl_id,label:e.employee_name,position_long_title:e.position_long_title}}))}},mounted:function(){void 0!==this.editData?(this.pageTitle="Edit",this.form.employee_code=this.editData.employee_code,this.form.prob_status=this.editData.prob_status,this.form.id=this.editData.id):(this.form.no_of_months=0,this.pageTitle="Add",this.form.rating_period_from=null)},methods:{submit:function(){if(this.form.target_qty=parseFloat(this.form.target_qty1)+parseFloat(this.form.target_qty2)+parseFloat(this.form.target_qty3)+parseFloat(this.form.target_qty4),this.checkDateFrom(),this.checkDateTo(),1==this.isNotValid||1==this.isNotValidTo)alert("Some dates are invalid!");else if(void 0!==this.editData)this.form.patch("/probationary/temporary/update/"+this.form.id,this.form);else{this.form.status="-1";this.form.post("/probationary/store")}},selected_employee:function(){var e=this;if(null===this.form.idIPCR||void 0===this.form.idIPCR)return-1;var t=this.data.findIndex((function(t){return String(t.ipcr_code)===String(e.form.idIPCR)}));this.selected_value=this.data[t],this.form.individual_output=this.data[t].individual_output,this.ipcr_submfo=this.data[t].submfo_description,this.ipcr_div_output=this.data[t].div_output,this.ipcr_ind_output=this.data[t].individual_output,this.ipcr_performance=this.data[t].performance_measure},setDateTo:function(){"Probationary"===this.form.prob_status?this.form.no_of_months=6:this.form.no_of_months=10,this.setMonthsCreate()},addOneToMonth:function(){var e=this.form.no_of_months;this.form.no_of_months=parseFloat(this.form.no_of_months)+1;var t=new Date;if(e>0){var o=new Date(this.form.date_to[e-1]);o.setDate(o.getDate()+1),o=o.toISOString().split("T")[0],this.form.date_from.push(o)}else{t.setMonth(t.getMonth()+e);var r=t.toISOString().split("T")[0];this.form.date_from.push(r)}var n=new Date(this.form.date_from[e]);n.setMonth(n.getMonth()+1);var a=n.toISOString().split("T")[0];this.form.date_to.push(a)},removeOneFromMonth:function(){parseFloat(this.form.no_of_months)>0&&(this.form.no_of_months=parseFloat(this.form.no_of_months)-1),this.form.date_from.pop(),this.form.date_to.pop()},setMonthsCreate:function(){this.form.date_from=[],this.form.date_to=[];for(var e=this.form.no_of_months,t=0;t<e;t++){var o=new Date;if(t>0){var r=new Date(this.form.date_to[t-1]);r.setDate(r.getDate()+1),r=r.toISOString().split("T")[0],this.form.date_from.push(r)}else{o.setMonth(o.getMonth()+t);var n=o.toISOString().split("T")[0];this.form.date_from.push(n)}var a=new Date(this.form.date_from[t]);a.setMonth(a.getMonth()+1);var i=a.toISOString().split("T")[0];this.form.date_to.push(i)}},setMonthsBasedOnFirstMonth:function(e,t){t-=1;for(var o=this.form.no_of_months,r=t;r<o;r++){var n=new Date(e);if(r>0){var a=new Date(this.form.date_to[r-1]);a.setDate(a.getDate()+1),a=a.toISOString().split("T")[0],this.form.date_from[r]=a}else{n.setMonth(n.getMonth()+r);var i=n.toISOString().split("T")[0];this.form.date_from[r]=i}var l=new Date(this.form.date_from[r]);l.setMonth(l.getMonth()+1);var s=l.toISOString().split("T")[0];this.form.date_to[r]=s}},isValidDate:function(e){var t=new Date(e);return!isNaN(t)&&t instanceof Date},checkDateFrom:function(){this.isNotValid=!1;var e,t=P(this.form.date_from);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(!this.isValidDate(o))return void(this.isNotValid=!0)}}catch(e){t.e(e)}finally{t.f()}},checkDateTo:function(){this.isNotValidTo=!1;var e,t=P(this.form.date_to);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(!this.isValidDate(o))return void(this.isNotValidTo=!0)}}catch(e){t.e(e)}finally{t.f()}}}};const Z=(0,o(3744).Z)(L,[["render",function(e,t,o,U,j,A){var P=(0,r.resolveComponent)("Link"),q=(0,r.resolveComponent)("multiselect");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(j.pageTitle)+" Probationary/Temporary Employee",1),(0,r.createVNode)(P,{href:"/Daily_Accomplishment"},{default:(0,r.withCtx)((function(){return[i]})),_:1})]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("form",{onSubmit:t[9]||(t[9]=(0,r.withModifiers)((function(e){return A.submit()}),["prevent"]))},[s,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=function(e){return j.form.emp_code=e}),class:"form-control",autocomplete:"positionchrome-off"},null,512),[[r.vModelText,j.form.emp_code]]),(0,r.createElementVNode)("fieldset",m,[c,(0,r.createElementVNode)("div",null,[(0,r.createVNode)(q,{options:A.formattedEmployeeList,searchable:!0,modelValue:j.form.employee_code,"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.form.employee_code=e}),label:"label","track-by":"label"},null,8,["options","modelValue"])]),j.form.errors.employee_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,(0,r.toDisplayString)(j.form.errors.employee_code),1)):(0,r.createCommentVNode)("",!0),f,(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control form-select","onUpdate:modelValue":t[2]||(t[2]=function(e){return j.form.prob_status=e}),onChange:t[3]||(t[3]=function(){return A.setDateTo&&A.setDateTo.apply(A,arguments)})},u,544),[[r.vModelSelect,j.form.prob_status]]),p,h,(0,r.createElementVNode)("div",_,[(0,r.createElementVNode)("div",v,[(0,r.createElementVNode)("div",y,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",onChange:t[4]||(t[4]=function(){return A.setMonthsCreate&&A.setMonthsCreate.apply(A,arguments)}),"onUpdate:modelValue":t[5]||(t[5]=function(e){return j.form.no_of_months=e}),class:"form-control",autocomplete:"positionchrome-off"},null,544),[[r.vModelText,j.form.no_of_months]])]),(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary text-white",onClick:t[6]||(t[6]=function(e){return A.addOneToMonth()})},V),g,(0,r.createElementVNode)("button",{type:"button",class:"btn btn-danger text-white",onClick:t[7]||(t[7]=function(e){return A.removeOneFromMonth()})},E)])])]),j.form.errors.no_of_months?((0,r.openBlock)(),(0,r.createElementBlock)("div",N,(0,r.toDisplayString)(j.form.errors.no_of_months),1)):(0,r.createCommentVNode)("",!0)]),j.form.errors.prob_status?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,(0,r.toDisplayString)(j.form.errors.prob_status),1)):(0,r.createCommentVNode)("",!0),j.form.date_from?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:1},(0,r.renderList)(j.form.no_of_months,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("fieldset",D,[(0,r.createElementVNode)("legend",k,[(0,r.createElementVNode)("b",null,"Month "+(0,r.toDisplayString)(e),1)]),(0,r.createElementVNode)("label",S,"Date From "+(0,r.toDisplayString)(j.form.date_from[e-1]),1),e-1<1?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:0,type:"date","onUpdate:modelValue":function(t){return j.form.date_from[e-1]=t},class:"form-control",onChange:function(t){return A.setMonthsBasedOnFirstMonth(j.form.date_from[e-1],e)},autocomplete:"positionchrome-off"},null,40,B)),[[r.vModelText,j.form.date_from[e-1]]]):(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:1,type:"date","onUpdate:modelValue":function(t){return j.form.date_from[e-1]=t},class:"form-control",autocomplete:"positionchrome-off"},null,8,M)),[[r.vModelText,j.form.date_from[e-1]]]),j.form.errors.rating_period_from?((0,r.openBlock)(),(0,r.createElementBlock)("div",T,(0,r.toDisplayString)(j.form.errors.rating_period_from),1)):(0,r.createCommentVNode)("",!0),C,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return j.form.date_to[e-1]=t},class:"form-control",autocomplete:"positionchrome-off"},null,8,x),[[r.vModelText,j.form.date_to[e-1]]]),j.form.errors.rating_period_to?((0,r.openBlock)(),(0,r.createElementBlock)("div",O,(0,r.toDisplayString)(j.form.errors.rating_period_to),1)):(0,r.createCommentVNode)("",!0)])])})),256)):(0,r.createCommentVNode)("",!0),F,(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[8]||(t[8]=function(e){return A.submit()}),disabled:j.form.processing}," Save ",8,I)],32)])])}]])},126:(e,t,o)=>{o.d(t,{Z:()=>g});var r=o(821),n={class:"masonry-item w-100"},a={class:"row gap-20"},i={class:"col-md-3 col-6"},l={class:"layers bd bgc-white p-20"},s={class:"layer w-100 mB-10"},m={class:"lh-1"},c={class:"layer w-100"},d={class:"peers ai-sb fxw-nw"},f=(0,r.createElementVNode)("div",{class:"peer peer-greed"},[(0,r.createElementVNode)("span",{id:"sparklinedash"})],-1),u={class:"layers bd bgc-white p-20"},p=(0,r.createElementVNode)("div",{class:"layer w-100 mB-10"},[(0,r.createElementVNode)("h6",{class:"lh-1"},"Barangay")],-1),h={class:"layer w-100"},_={class:"peers ai-sb fxw-nw"},v=(0,r.createElementVNode)("div",{class:"peer peer-greed"},[(0,r.createElementVNode)("span",{id:"sparklinedash"})],-1),y={class:"form-control"},b=(0,r.createElementVNode)("option",null,null,-1);const V={props:{mun:Array},data:function(){return{mun_code:"",barsel:"",munsel:"",bar:[]}},computed:{my_mun:function(){return this.mun_code},my_bar:function(){return this.bar}},mounted:function(){},watch:{},methods:{loadBar:function(){var e=this;alert(this.munsel),""===this.munsel||axios.post("/places/bar",{mun:this.munsel}).then((function(t){e.bar=t.data.data}))},showMun:function(){alert(this.mun_code)}}};const g=(0,o(3744).Z)(V,[["render",function(e,t,o,V,g,E){return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("h6",m,"Municipalities "+(0,r.toDisplayString)(E.my_mun),1)]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",d,[f,(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return g.munsel=e}),onChange:t[1]||(t[1]=function(){return E.loadBar&&E.loadBar.apply(E,arguments)})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.mun,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",null,(0,r.toDisplayString)(e.citymunDesc),1)})),256))],544),[[r.vModelSelect,g.munsel]])])])]),(0,r.createElementVNode)("div",u,[p,(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",_,[v,(0,r.createElementVNode)("select",y,[b,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.bar,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",null,(0,r.toDisplayString)(e.brgyDesc),1)})),256))])])])])])])])}]])}}]);